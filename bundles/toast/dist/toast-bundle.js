var ToastComponent=(()=>{var c=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var b=(i,a)=>{for(var t in a)c(i,t,{get:a[t],enumerable:!0})},T=(i,a,t,s)=>{if(a&&typeof a=="object"||typeof a=="function")for(let e of g(a))!y.call(i,e)&&e!==t&&c(i,e,{get:()=>a[e],enumerable:!(s=f(a,e))||s.enumerable});return i};var k=i=>T(c({},"__esModule",{value:!0}),i);var I={};b(I,{registerToast:()=>m});var l=`<div x-data="toast" class="toast-wrapper"><div class="toast-container top-right"><template x-for="item in getItemsForPosition('top-right')" :key="item.id"><div class="toast-item" :class="item.type" x-show="item.visible" x-transition:enter="toast-enter" x-transition:enter-start="toast-enter-start" x-transition:enter-end="toast-enter-end" x-transition:leave="toast-leave" x-transition:leave-start="toast-leave-start" x-transition:leave-end="toast-leave-end"><div class="toast-content"><i x-show="item.type === 'success'" class="ri-check-line toast-icon"></i><i x-show="item.type === 'error'" class="ri-error-warning-line toast-icon"></i><i x-show="item.type === 'warning'" class="ri-alert-line toast-icon"></i><i x-show="item.type === 'info'" class="ri-information-line toast-icon"></i><div class="toast-message"><span class="toast-title" x-text="item.title"></span><span class="toast-description" x-text="item.message"></span></div></div><button x-show="item.closable" class="toast-close" @click="removeToast(item.id)"><i class="ri-close-line"></i></button><div x-show="item.showProgress" class="toast-progress" :style="\`width: \${item.progress}%\`"></div></div></template></div><div class="toast-container top-left"><template x-for="item in getItemsForPosition('top-left')" :key="item.id"><div class="toast-item" :class="item.type" x-show="item.visible" x-transition:enter="toast-enter" x-transition:enter-start="toast-enter-start-left" x-transition:enter-end="toast-enter-end" x-transition:leave="toast-leave" x-transition:leave-start="toast-leave-start" x-transition:leave-end="toast-leave-end-left"><div class="toast-content"><i x-show="item.type === 'success'" class="ri-check-line toast-icon"></i><i x-show="item.type === 'error'" class="ri-error-warning-line toast-icon"></i><i x-show="item.type === 'warning'" class="ri-alert-line toast-icon"></i><i x-show="item.type === 'info'" class="ri-information-line toast-icon"></i><div class="toast-message"><span class="toast-title" x-text="item.title"></span><span class="toast-description" x-text="item.message"></span></div></div><button x-show="item.closable" class="toast-close" @click="removeToast(item.id)"><i class="ri-close-line"></i></button><div x-show="item.showProgress" class="toast-progress" :style="\`width: \${item.progress}%\`"></div></div></template></div><div class="toast-container top-center"><template x-for="item in getItemsForPosition('top-center')" :key="item.id"><div class="toast-item" :class="item.type" x-show="item.visible" x-transition:enter="toast-enter" x-transition:enter-start="toast-enter-start-center" x-transition:enter-end="toast-enter-end" x-transition:leave="toast-leave" x-transition:leave-start="toast-leave-start" x-transition:leave-end="toast-leave-end-center"><div class="toast-content"><i x-show="item.type === 'success'" class="ri-check-line toast-icon"></i><i x-show="item.type === 'error'" class="ri-error-warning-line toast-icon"></i><i x-show="item.type === 'warning'" class="ri-alert-line toast-icon"></i><i x-show="item.type === 'info'" class="ri-information-line toast-icon"></i><div class="toast-message"><span class="toast-title" x-text="item.title"></span><span class="toast-description" x-text="item.message"></span></div></div><button x-show="item.closable" class="toast-close" @click="removeToast(item.id)"><i class="ri-close-line"></i></button><div x-show="item.showProgress" class="toast-progress" :style="\`width: \${item.progress}%\`"></div></div></template></div><div class="toast-container bottom-right"><template x-for="item in getItemsForPosition('bottom-right')" :key="item.id"><div class="toast-item" :class="item.type" x-show="item.visible" x-transition:enter="toast-enter" x-transition:enter-start="toast-enter-start" x-transition:enter-end="toast-enter-end" x-transition:leave="toast-leave" x-transition:leave-start="toast-leave-start" x-transition:leave-end="toast-leave-end"><div class="toast-content"><i x-show="item.type === 'success'" class="ri-check-line toast-icon"></i><i x-show="item.type === 'error'" class="ri-error-warning-line toast-icon"></i><i x-show="item.type === 'warning'" class="ri-alert-line toast-icon"></i><i x-show="item.type === 'info'" class="ri-information-line toast-icon"></i><div class="toast-message"><span class="toast-title" x-text="item.title"></span><span class="toast-description" x-text="item.message"></span></div></div><button x-show="item.closable" class="toast-close" @click="removeToast(item.id)"><i class="ri-close-line"></i></button><div x-show="item.showProgress" class="toast-progress" :style="\`width: \${item.progress}%\`"></div></div></template></div><div class="toast-container bottom-left"><template x-for="item in getItemsForPosition('bottom-left')" :key="item.id"><div class="toast-item" :class="item.type" x-show="item.visible" x-transition:enter="toast-enter" x-transition:enter-start="toast-enter-start-left" x-transition:enter-end="toast-enter-end" x-transition:leave="toast-leave" x-transition:leave-start="toast-leave-start" x-transition:leave-end="toast-leave-end-left"><div class="toast-content"><i x-show="item.type === 'success'" class="ri-check-line toast-icon"></i><i x-show="item.type === 'error'" class="ri-error-warning-line toast-icon"></i><i x-show="item.type === 'warning'" class="ri-alert-line toast-icon"></i><i x-show="item.type === 'info'" class="ri-information-line toast-icon"></i><div class="toast-message"><span class="toast-title" x-text="item.title"></span><span class="toast-description" x-text="item.message"></span></div></div><button x-show="item.closable" class="toast-close" @click="removeToast(item.id)"><i class="ri-close-line"></i></button><div x-show="item.showProgress" class="toast-progress" :style="\`width: \${item.progress}%\`"></div></div></template></div><div class="toast-container bottom-center"><template x-for="item in getItemsForPosition('bottom-center')" :key="item.id"><div class="toast-item" :class="item.type" x-show="item.visible" x-transition:enter="toast-enter" x-transition:enter-start="toast-enter-start-center" x-transition:enter-end="toast-enter-end" x-transition:leave="toast-leave" x-transition:leave-start="toast-leave-start" x-transition:leave-end="toast-leave-end-center"><div class="toast-content"><i x-show="item.type === 'success'" class="ri-check-line toast-icon"></i><i x-show="item.type === 'error'" class="ri-error-warning-line toast-icon"></i><i x-show="item.type === 'warning'" class="ri-alert-line toast-icon"></i><i x-show="item.type === 'info'" class="ri-information-line toast-icon"></i><div class="toast-message"><span class="toast-title" x-text="item.title"></span><span class="toast-description" x-text="item.message"></span></div></div><button x-show="item.closable" class="toast-close" @click="removeToast(item.id)"><i class="ri-close-line"></i></button><div x-show="item.showProgress" class="toast-progress" :style="\`width: \${item.progress}%\`"></div></div></template></div></div>`;function m(i={}){if(!window.Alpine)return console.error("Alpine.js is not loaded. Please load Alpine.js first."),null;if(typeof customElements<"u"&&!customElements.get("my-toast")){class t extends HTMLElement{connectedCallback(){let e=this.getAttribute("position"),o=this.getAttribute("duration"),n=this.getAttribute("max-toasts"),r={...i};e&&(r.position=e),o&&(r.duration=parseInt(o)||3e3),n&&(r.maxToasts=parseInt(n)||5),this.innerHTML=l,this.id&&window.Alpine.store("toastConfig_"+this.id,r)}disconnectedCallback(){this.id&&window.Alpine.store("toastConfig_"+this.id,null)}}customElements.define("my-toast",t)}return window.Alpine.data("toast",()=>({itemGroups:{"top-right":[],"top-left":[],"top-center":[],"bottom-right":[],"bottom-left":[],"bottom-center":[]},position:i.position||"top-right",duration:i.duration||3e3,maxToasts:i.maxToasts||5,toastIdCounter:0,init(){if(this.$el&&this.$el.closest("my-toast")&&this.$el.closest("my-toast").id){let s=window.Alpine.store("toastConfig_"+this.$el.closest("my-toast").id);s&&(this.position=s.position||this.position,this.duration=s.duration||this.duration,this.maxToasts=s.maxToasts||this.maxToasts)}window.toast||(window.toast={success:(s,e={})=>this.addToast({message:s,type:"success",...e}),error:(s,e={})=>this.addToast({message:s,type:"error",...e}),warning:(s,e={})=>this.addToast({message:s,type:"warning",...e}),info:(s,e={})=>this.addToast({message:s,type:"info",...e}),setPosition:s=>{this.position=s}});let t=this.$el.closest("my-toast");t&&t.addEventListener("show-toast",s=>{s.detail&&this.addToast(s.detail)})},getItemsForPosition(t){return this.itemGroups[t]||[]},getTotalItems(){return Object.values(this.itemGroups).reduce((t,s)=>t+s.length,0)},addToast(t){let s=this.toastIdCounter++,e=t.position||this.position,o={id:s,title:t.title||this.getDefaultTitle(t.type),message:t.message||"",type:t.type||"info",duration:t.duration||this.duration,visible:!0,closable:t.closable!==!1,showProgress:t.showProgress!==!1,progress:100,timerId:null};if(this.itemGroups[e]||(this.itemGroups[e]=[]),this.itemGroups[e].length>=this.maxToasts){let n=this.itemGroups[e][0];n&&n.timerId&&clearTimeout(n.timerId),this.itemGroups[e].shift()}if(this.itemGroups[e].push(o),o.duration>0){let r=Date.now()+o.duration,d=()=>{let v=Date.now(),p=(r-v)/o.duration*100,x=!1;for(let[A,u]of Object.entries(this.itemGroups)){let h=u.find(w=>w.id===s);if(h){h.progress=Math.max(0,p),x=!0;break}}x&&p>0&&requestAnimationFrame(d)};o.showProgress&&requestAnimationFrame(d),o.timerId=setTimeout(()=>{this.removeToast(s)},o.duration)}return s},removeToast(t){for(let s of Object.keys(this.itemGroups)){let e=this.itemGroups[s].findIndex(o=>o.id===t);if(e!==-1){this.itemGroups[s][e].visible=!1,setTimeout(()=>{this.itemGroups[s]=this.itemGroups[s].filter(o=>o.id!==t)},300);break}}},getDefaultTitle(t){switch(t){case"success":return"\uC131\uACF5";case"error":return"\uC624\uB958";case"warning":return"\uACBD\uACE0";case"info":return"\uC815\uBCF4";default:return""}}})),{mount(t){typeof t=="string"&&(t=document.querySelector(t)),t?t.innerHTML=l:console.error("Cannot find target element.",t)},getTemplate(){return l}}}typeof document<"u"&&document.addEventListener("DOMContentLoaded",()=>{window.Alpine&&document.querySelectorAll("[data-toast-mount]").forEach(i=>{let a=m();a&&a.mount(i)})});window.ToastComponent={registerToast:m};return k(I);})();

var SliderComponent=(()=>{var h=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var g=Object.prototype.hasOwnProperty;var m=(n,o)=>{for(var i in o)h(n,i,{get:o[i],enumerable:!0})},y=(n,o,i,e)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of f(o))!g.call(n,t)&&t!==i&&h(n,t,{get:()=>o[t],enumerable:!(e=p(o,t))||e.enumerable});return n};var w=n=>y(h({},"__esModule",{value:!0}),n);var v={};m(v,{registerSlider:()=>c});var l=`<div class="carousel-module-container" x-data="carouselController" x-init="init()"><template x-if="showControl"><div class="carousel-options"><div class="option-group"><h3>\uD2B8\uB79C\uC9C0\uC158 \uD6A8\uACFC</h3><label><input type="radio" name="transition" value="slide" x-model="transitionType"> \uC2AC\uB77C\uC774\uB4DC </label><label><input type="radio" name="transition" value="fade" x-model="transitionType"> \uD398\uC774\uB4DC </label></div><div class="option-group"><h3>\uBAA8\uC11C\uB9AC \uC124\uC815</h3><label class="toggle-switch"><input type="checkbox" x-model="noFillet"><span>\uAC01\uC9C4 \uBAA8\uC11C\uB9AC \uC0AC\uC6A9</span></label></div><div class="option-group"><h3>\uBE44\uC728 \uC124\uC815</h3><label><input type="radio" name="ratioOption" value="1080/480" x-model="ratio"> \uC640\uC774\uB4DC (1080:480) </label><label><input type="radio" name="ratioOption" value="1080/720" x-model="ratio"> \uD45C\uC900 (1080:720) </label><label><input type="radio" name="ratioOption" value="1080/1080" x-model="ratio"> \uC815\uC0AC\uAC01\uD615 (1:1) </label><label><input type="radio" name="ratioOption" value="custom" x-model="customRatioSelected"> \uC9C1\uC811 \uC785\uB825 </label><div x-show="customRatioSelected === 'custom'" style="margin-top: 8px;"><input type="text" placeholder="\uAC00\uB85C/\uC138\uB85C (\uC608: 16/9)" @input="if ($event.target.value) ratio = $event.target.value" style="width: 120px; padding: 4px;"></div></div><div class="option-group"><h3>\uC2A4\uC640\uC774\uD504 \uC124\uC815(\uC2AC\uB77C\uC774\uB4DC \uC124\uC815 \uD544\uC694)</h3><label class="toggle-switch"><input type="checkbox" x-model="useSwipe"><span>\uC2A4\uC640\uC774\uD504 \uD65C\uC131\uD654</span></label></div><div class="option-group"><h3>\uC790\uB3D9 \uC7AC\uC0DD \uC124\uC815</h3><label class="toggle-switch"><input type="checkbox" x-model="autoplayEnabled"><span>\uC790\uB3D9 \uC7AC\uC0DD</span></label><div class="interval-control" x-show="autoplayEnabled"><label><input type="range" min="1" max="10" x-model.number="interval"><span x-text="interval"></span>\uCD08 </label></div></div><div class="option-group"><h3>\uD2B8\uB79C\uC9C0\uC158 \uC18D\uB3C4</h3><label><input type="range" min="0.1" max="2" step="0.1" x-model.number="transitionDuration"><span x-text="transitionDuration"></span>\uCD08 </label></div><div class="option-group"><h3>\uC774\uBBF8\uC9C0 \uC704\uCE58</h3><label><input type="radio" name="imgPosition" value="top" x-model="imagePosition"> \uC0C1\uB2E8 \uC815\uB82C </label><label><input type="radio" name="imgPosition" value="center" x-model="imagePosition"> \uC911\uC559 \uC815\uB82C </label><label><input type="radio" name="imgPosition" value="bottom" x-model="imagePosition"> \uD558\uB2E8 \uC815\uB82C </label></div><div class="option-group"><h3>\uD654\uC0B4\uD45C \uC124\uC815</h3><label class="toggle-switch"><input type="checkbox" x-model="showArrows"><span>\uD654\uC0B4\uD45C \uBC84\uD2BC \uD45C\uC2DC</span></label></div><div class="option-group"><h3>\uC778\uB514\uCF00\uC774\uD130 \uC124\uC815</h3><label class="toggle-switch"><input type="checkbox" x-model="showIndicators"><span>\uC778\uB514\uCF00\uC774\uD130 \uD45C\uC2DC</span></label></div></div></template><div class="carousel-container" :class="{ 'no-fillet': noFillet }"><div class="carousel-inner" :style="transitionType == 'slide' ? \`transform: translateX(\${-currentIndex * 100}%); transition: transform \${transitionDuration}s ease;\` : ''" :class="{'fade-transition': transitionType == 'fade'}"><template x-for="(image, index) in images" :key="index"><div class="carousel-item" :class="{ 'active': currentIndex == index }" :style="getItemStyle()" @click="location.href = image.href"><img :class="'img-' + imagePosition" :src="image.src" :alt="image.alt || \`\uC2AC\uB77C\uC774\uB4DC \uC774\uBBF8\uC9C0 \${index + 1}\`"></div></template></div><template x-if="showArrows"><div><button class="carousel-control prev" @click="prev()" aria-label="\uC774\uC804 \uC2AC\uB77C\uC774\uB4DC"> &#10094; </button><button class="carousel-control next" @click="next()" aria-label="\uB2E4\uC74C \uC2AC\uB77C\uC774\uB4DC"> &#10095; </button></div></template><template x-if="showIndicators"><div class="carousel-indicators"><template x-for="(image, index) in images" :key="index"><div class="carousel-indicator" :class="{ 'active': currentIndex == index }" @click="goToSlide(index)"></div></template></div></template></div></div>`;function c(n={}){if(!window.Alpine)return console.error("Alpine.js is not loaded. Please load Alpine.js first."),null;if(typeof customElements<"u"&&!customElements.get("my-slider")){class i extends HTMLElement{connectedCallback(){let t=this.getAttribute("config"),s=this.getAttribute("images"),a={...n};if(this.hasAttribute("transition-type")&&(a.transitionType=this.getAttribute("transition-type")),this.hasAttribute("autoplay")&&(a.autoplayEnabled=this.getAttribute("autoplay")!=="false"),this.hasAttribute("interval")&&(a.interval=parseFloat(this.getAttribute("interval"))||5),this.hasAttribute("duration")&&(a.transitionDuration=parseFloat(this.getAttribute("duration"))||1.2),this.hasAttribute("image-position")&&(a.imagePosition=this.getAttribute("image-position")),this.hasAttribute("show-arrows")&&(a.showArrows=this.getAttribute("show-arrows")!=="false"),this.hasAttribute("indicators")&&(a.showIndicators=this.getAttribute("indicators")!=="false"),this.hasAttribute("show-controls")&&(a.showControl=this.getAttribute("show-controls")!=="false"),this.hasAttribute("no-fillet")&&(a.noFillet=this.getAttribute("no-fillet")!=="false"),this.hasAttribute("ratio")&&(a.ratio=this.getAttribute("ratio")),this.hasAttribute("swipe")&&(a.useSwipe=this.getAttribute("swipe")!=="false"),t)try{let r=JSON.parse(t);a={...a,...r}}catch(r){console.error("Invalid config attribute:",r)}if(s)try{a.images=JSON.parse(s)}catch(r){console.error("Invalid images attribute:",r)}this.innerHTML=l,this.id&&window.Alpine.store("sliderConfig_"+this.id,a)}disconnectedCallback(){if(this.id&&window.Alpine&&window.Alpine.store){let t="sliderConfig_"+this.id;typeof window.Alpine.store(t)<"u"&&window.Alpine.store(t,{})}}}customElements.define("my-slider",i)}return window.Alpine.data("carouselController",()=>({config:n,currentIndex:0,autoplayInterval:null,images:[],transitionType:"slide",autoplayEnabled:!0,interval:5,transitionDuration:1.2,imagePosition:"center",showArrows:!0,showIndicators:!0,showControl:!1,noFillet:!1,useSwipe:!1,touchStartX:0,touchStartY:0,touchEndX:0,lastDeltaX:0,dragOffset:0,mouseDown:!1,isDragging:!1,isSwiping:!1,minSwipeDistance:50,swipeThreshold:.15,ratio:"1080/480",customRatioSelected:!1,customRatio:"",init(){if(this.$el&&this.$el.closest("my-slider")&&this.$el.closest("my-slider").id){let e=this.$el.closest("my-slider"),t=window.Alpine.store("sliderConfig_"+e.id);t&&(this.config=t,t.transitionType&&(this.transitionType=t.transitionType),t.autoplayEnabled!==void 0&&(this.autoplayEnabled=t.autoplayEnabled),t.interval&&(this.interval=t.interval),t.transitionDuration&&(this.transitionDuration=t.transitionDuration),t.imagePosition&&(this.imagePosition=t.imagePosition),t.showArrows!==void 0&&(this.showArrows=t.showArrows),t.showIndicators!==void 0&&(this.showIndicators=t.showIndicators),t.showControl!==void 0&&(this.showControl=t.showControl),t.noFillet!==void 0&&(this.noFillet=t.noFillet),t.useSwipe!==void 0&&(this.useSwipe=t.useSwipe),t.ratio&&(this.ratio=t.ratio),t.images&&Array.isArray(t.images)&&(this.images=t.images))}else this.config&&Object.entries(this.config).forEach(([e,t])=>{e in this&&(this[e]=t)});this.autoplayEnabled&&this.startAutoplay();let i=this.$el.querySelector(".carousel-container");i&&(i.addEventListener("mouseenter",()=>{this.autoplayEnabled&&this.stopAutoplay()}),i.addEventListener("mouseleave",()=>{this.autoplayEnabled&&this.startAutoplay()})),this.$nextTick(()=>{this.updateRatioStyle()}),this.$watch("ratio",()=>{this.updateRatioStyle()}),this.$watch("transitionType",()=>{}),this.$watch("autoplayEnabled",e=>{e?this.startAutoplay():this.stopAutoplay()}),this.$watch("interval",()=>{this.autoplayEnabled&&(this.stopAutoplay(),this.startAutoplay())}),this.$watch("transitionDuration",()=>{this.updateStyles()}),this.$nextTick(()=>{this.setupSwipeHandlers()})},updateStyles(){},getItemStyle(){return this.transitionType=="fade"?{transition:`opacity ${this.transitionDuration}s ease`,animation:`fadeIn ${this.transitionDuration}s ease`}:{}},next(){this.currentIndex=(this.currentIndex+1)%this.images.length},prev(){this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length},goToSlide(i){this.currentIndex=i},startAutoplay(){this.stopAutoplay(),this.autoplayInterval=setInterval(()=>{this.next()},this.interval*1e3)},stopAutoplay(){clearInterval(this.autoplayInterval)},updateRatioStyle(){let i=this.$el.querySelector(".carousel-container");if(i)if(this.ratio.includes("/")){let[e,t]=this.ratio.split("/").map(Number);if(!isNaN(e)&&!isNaN(t)&&t>0){let s=t/e*100;i.style.setProperty("--ratio",`${s}%`)}}else this.ratio.includes("%")?i.style.setProperty("--ratio",this.ratio):i.style.setProperty("--ratio","44.44%")},setupSwipeHandlers(){let i=this.$el.querySelector(".carousel-container");i&&(i.addEventListener("touchstart",e=>this.handleTouchStart(e),{passive:!1}),i.addEventListener("touchmove",e=>this.handleTouchMove(e),{passive:!1}),i.addEventListener("touchend",e=>this.handleTouchEnd(e),{passive:!1}),i.addEventListener("mousedown",e=>this.handleMouseDown(e)),window.addEventListener("mousemove",e=>this.handleMouseMove(e)),window.addEventListener("mouseup",()=>this.handleMouseUp()))},handleTouchStart(i){if(!this.useSwipe||this.transitionType!=="slide")return;this.touchStartX=i.touches[0].clientX,this.touchStartY=i.touches[0].clientY,this.lastDeltaX=0,this.dragOffset=0,this.isSwiping=!1,this.autoplayEnabled&&this.stopAutoplay();let e=this.$el.querySelector(".carousel-inner");e&&(e.style.transition="none")},handleTouchMove(i){if(!this.useSwipe||this.transitionType!=="slide"||!this.touchStartX)return;let e=i.touches[0].clientX,t=i.touches[0].clientY,s=e-this.touchStartX,a=t-this.touchStartY;if(!this.isSwiping&&!this.isDragging&&Math.abs(s)>Math.abs(a)&&Math.abs(s)>10&&(this.isSwiping=!0,this.isDragging=!0,i.preventDefault()),this.isSwiping){i.preventDefault();let r=this.$el.querySelector(".carousel-container"),u=this.$el.querySelector(".carousel-inner");if(r&&u){this.dragOffset=s/r.offsetWidth*100,(this.currentIndex===0&&s>0||this.currentIndex===this.images.length-1&&s<0)&&(this.dragOffset/=2);let d=-this.currentIndex*100+this.dragOffset;u.style.transform=`translateX(${d}%)`}this.touchEndX=e,this.lastDeltaX=s}},handleTouchEnd(i){if(!this.useSwipe||this.transitionType!=="slide"||!this.isSwiping){this.autoplayEnabled&&this.startAutoplay();return}if(this.isSwiping){i.preventDefault();let e=this.$el.querySelector(".carousel-container"),t=this.$el.querySelector(".carousel-inner");if(t){t.style.transition=`transform ${this.transitionDuration}s ease`;let s=e?e.offsetWidth*this.swipeThreshold:this.minSwipeDistance;Math.abs(this.lastDeltaX)>s?this.lastDeltaX>0?this.prev():this.next():t.style.transform=`translateX(${-this.currentIndex*100}%)`}}this.touchStartX=0,this.touchEndX=0,this.touchStartY=0,this.lastDeltaX=0,this.dragOffset=0,this.isDragging=!1,this.isSwiping=!1,this.autoplayEnabled&&this.startAutoplay()},handleMouseDown(i){if(!this.useSwipe||this.transitionType!=="slide")return;i.preventDefault(),this.mouseDown=!0,this.touchStartX=i.clientX,this.touchStartY=i.clientY,this.lastDeltaX=0,this.dragOffset=0,this.isSwiping=!1,this.autoplayEnabled&&this.stopAutoplay();let e=this.$el.querySelector(".carousel-inner");e&&(e.style.transition="none"),document.body.style.cursor="grabbing"},handleMouseMove(i){if(!this.useSwipe||!this.mouseDown)return;let e=i.clientX-this.touchStartX,t=i.clientY-this.touchStartY;if(!this.isSwiping&&!this.isDragging&&Math.abs(e)>Math.abs(t)&&Math.abs(e)>10&&(this.isSwiping=!0,this.isDragging=!0,i.preventDefault()),this.isSwiping){i.preventDefault();let s=this.$el.querySelector(".carousel-container"),a=this.$el.querySelector(".carousel-inner");if(s&&a){this.dragOffset=e/s.offsetWidth*100,(this.currentIndex===0&&e>0||this.currentIndex===this.images.length-1&&e<0)&&(this.dragOffset/=2);let r=-this.currentIndex*100+this.dragOffset;a.style.transform=`translateX(${r}%)`}this.touchEndX=i.clientX,this.lastDeltaX=e}},handleMouseUp(){if(!(!this.useSwipe||!this.mouseDown)){if(document.body.style.cursor="",this.isSwiping){let i=this.$el.querySelector(".carousel-container"),e=this.$el.querySelector(".carousel-inner");if(e){e.style.transition=`transform ${this.transitionDuration}s ease`;let s=i?i.offsetWidth*this.swipeThreshold:this.minSwipeDistance;Math.abs(this.lastDeltaX)>s?this.lastDeltaX>0?this.prev():this.next():e.style.transform=`translateX(${-this.currentIndex*100}%)`}let t=s=>{s.preventDefault(),s.stopPropagation(),document.removeEventListener("click",t,!0)};document.addEventListener("click",t,!0)}this.mouseDown=!1,this.isDragging=!1,this.isSwiping=!1,this.touchStartX=0,this.touchEndX=0,this.touchStartY=0,this.lastDeltaX=0,this.dragOffset=0,this.autoplayEnabled&&this.startAutoplay()}}})),{mount(i){typeof i=="string"&&(i=document.querySelector(i)),i?i.innerHTML=l:console.error("Cannot find target element.",i)},getTemplate(){return l}}}window.SliderComponent={registerSlider:c};return w(v);})();

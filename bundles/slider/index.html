<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alpine.js 슬라이더 컴포넌트</title>

    <link rel="stylesheet" href="./dist/slider-styles.css">

    <style>
        body {
            font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', 'sans-serif';
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }

        h1,
        h2 {
            color: #333;
            padding-bottom: 10px;
        }

        h1 {
            border-bottom: 2px solid #eee;
            margin-bottom: 20px;
        }

        .section {
            margin: 40px 0;
            padding-bottom: 30px;
            border-bottom: 1px solid #eee;
        }

        .code-example {
            background-color: #f8f8f8;
            border-left: 4px solid #4CAF50;
            padding: 15px;
            margin: 20px 0;
            overflow-x: auto;
        }

        pre {
            margin: 0;
            font-family: 'Consolas', monospace;
            font-size: 14px;
        }

        button {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s;
            background-color: #4CAF50;
            color: white;
            margin-right: 10px;
        }

        button:hover {
            background-color: #388E3C;
        }
    </style>
</head>

<body>
    <h1>Alpine.js 슬라이더 컴포넌트</h1>

    <div class="section">
        <h2>직접 배치된 커스텀 태그 업데이트</h2>
        <p>슬라이더 태그를 직접 HTML에 배치하고 JavaScript로 업데이트합니다.</p>

        <!-- 직접 HTML에 배치된 슬라이더 태그 -->
        <my-slider id="direct-slider"></my-slider>
        <br>
        <button id="init-slider">슬라이더 초기화</button>
        <button id="update-slider">슬라이더 업데이트</button>

        <div class="code-example">
            <pre><code>// HTML에 직접 배치한 태그
&lt;my-slider id="direct-slider"&gt;&lt;/my-slider&gt;

// 초기 설정 적용
document.getElementById('init-slider').addEventListener('click', function() {
    const slider = document.getElementById('direct-slider');
    
    // 초기 설정
    const initialConfig = {
        transitionType: "slide",
        autoplayEnabled: true,
        interval: 5,
        showIndicators: true,
        images: [
            { src: "./images/1.jpg", alt: "이미지 1", href: "#" },
            { src: "./images/2.jpg", alt: "이미지 2", href: "#" }
        ]
    };
    
    // 기존 슬라이더 교체 (새로운 슬라이더로)
    const newSlider = document.createElement('my-slider');
    newSlider.id = "direct-slider";
    newSlider.setAttribute('config', JSON.stringify(initialConfig));
    
    // 기존 슬라이더와 교체
    slider.replaceWith(newSlider);
});

// 슬라이더 업데이트
document.getElementById('update-slider').addEventListener('click', function() {
    const slider = document.getElementById('direct-slider');
    
    // 업데이트 설정
    const updatedConfig = {
        transitionType: "fade",
        autoplayEnabled: true,
        interval: 3,
        showIndicators: true,
        showControl: true,
        images: [
            { src: "./images/3.jpg", alt: "이미지 3", href: "#" },
            { src: "./images/4.jpg", alt: "이미지 4", href: "#" },
            { src: "./images/5.jpg", alt: "이미지 5", href: "#" }
        ]
    };
    
    // 기존 슬라이더 교체 (새로운 슬라이더로)
    const newSlider = document.createElement('my-slider');
    newSlider.id = "direct-slider";
    newSlider.setAttribute('config', JSON.stringify(updatedConfig));
    
    // 기존 슬라이더와 교체
    slider.replaceWith(newSlider);
});</code></pre>
        </div>
    </div>

    <script defer src="https://unpkg.com/alpinejs@3.12.0/dist/cdn.min.js"></script>
    <script src="./dist/slider-bundle.js"></script>

    <script>
        function initSlider() {
            console.log('Initializing slider...');

            const slider = document.getElementById('direct-slider');

            const initialConfig = {
                transitionType: "slide",
                autoplayEnabled: true,
                interval: 5,
                showIndicators: true,
                images: [
                    { src: "./images/1.jpg", alt: "이미지 1", href: "#" },
                    { src: "./images/2.jpg", alt: "이미지 2", href: "#" }
                ]
            };

            const newSlider = document.createElement('my-slider');
            newSlider.id = "direct-slider";
            newSlider.setAttribute('config', JSON.stringify(initialConfig));

            slider.replaceWith(newSlider);
            console.log('Slider initialized');
        }

        function updateSlider () {
                console.log('Updating slider...');

                const slider = document.getElementById('direct-slider');

                const updatedConfig = {
                    transitionType: "fade",
                    autoplayEnabled: true,
                    interval: 3,
                    showIndicators: true,
                    showControl: true,
                    images: [
                        { src: "./images/3.jpg", alt: "이미지 3", href: "#" },
                        { src: "./images/4.jpg", alt: "이미지 4", href: "#" },
                        { src: "./images/5.jpg", alt: "이미지 5", href: "#" }
                    ]
                };

                const newSlider = document.createElement('my-slider');
                newSlider.id = "direct-slider";
                newSlider.setAttribute('config', JSON.stringify(updatedConfig));

                slider.replaceWith(newSlider);
                console.log('Slider updated');
            }

        document.addEventListener('DOMContentLoaded', () => {
            if (SliderComponent) {
                SliderComponent.registerSlider();
                console.log('Slider component registered');

                document.getElementById('init-slider').addEventListener('click', initSlider);
                document.getElementById('update-slider').addEventListener('click', updateSlider);

                initSlider();
            }
        });
    </script>
</body>

</html>
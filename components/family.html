<!-- 패밀리 -->
<div x-data="dataFamilies">
    <button @click="getFamily">Change Family</button>

    <ul>
        <li is-static>Name: John Doe, Age: 30</li>
        <li is-static>Name: Jane Doe, Age: 28</li>

        <!-- <template x-for="member in currentFamily" :key="member.Name"> -->
        <template x-for="member in currentFamily">
            <li x-text="`Name: ${member.Name}, Age: ${member.Age}`"></li>
        </template>
    </ul>
</div>

<script>
    const dataFamilies = () => {
        const faker = window.Faker
        const initializerFamily = {
            families: [
                { Name: 'John Doe', Age: 30 },
                { Name: 'Jane Doe', Age: 28 },
                { Name: 'Michael Smith', Age: 32 },
                { Name: 'Emily Johnson', Age: 29 },
                { Name: 'Sophia Lee', Age: 31 },
                { Name: 'Daniel Williams', Age: 33 },
                { Name: 'Olivia Davis', Age: 27 },
                { Name: 'Matthew Wilson', Age: 35 },
                { Name: 'Emma Martinez', Age: 26 },
                { Name: 'Andrew Taylor', Age: 34 },
                { Name: 'Isabella Garcia', Age: 30 },
                { Name: 'David Moore', Age: 29 },
                { Name: 'Anna Anderson', Age: 31 },
                { Name: 'Jennifer Brown', Age: 28 },
                { Name: 'Kevin Thomas', Age: 32 },
                { Name: 'Sarah Thompson', Age: 27 }
            ],
            currentFamily: [],
            init() { },
            flushFamily() {
                const familyMembers = this.$root.querySelectorAll("li[is-static]")
                for (const m of familyMembers) {
                    if (m.hasAttribute('is-static')) { m.remove() }
                }
            },
            getFamily() {
                this.flushFamily()
                this.currentFamily = []
                for (let i = 0; i < 3; i++) {
                    const randomIndex = Math.floor(Math.random() * this.families.length)
                    this.currentFamily.push(this.families[randomIndex])
                }
            }
        }

        return initializerFamily
    }
</script>